        .highlight-box {
            background: rgba(255, 107, 53, 0.1);
            border-left: 4px solid #ff6b35;
            padding: 1rem 1.5rem;
            margin: 2rem 0;
            border-radius: 8px;
        }
        
        /* Entry Conditions */
        .entry-conditions {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
            gap: 1rem;
            margin: 2rem 0;
        }
        
        .condition-card {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            padding: 1.5rem;
            text-align: center;
        }
        
        .condition-icon {
            font-size: 2rem;
            margin-bottom: 1rem;
        }
        
        .condition-title {
            color: #ff6b35;
            font-weight: bold;
            font-size: 1rem;
            margin-bottom: 0.8rem;
        }
        
        .condition-desc {
            color: #aaa;
            font-size: 0.85rem;
            margin-bottom: 1rem;
            line-height: 1.4;
        }
        
        .condition-status {
            font-size: 0.9rem;
            font-weight: bold;
            padding: 0.4rem 0.8rem;
            border-radius: 4px;
        }
        
        .condition-status.positive {
            background: rgba(76, 175, 80, 0.2);
            color: #4CAF50;
        }
        
        .condition-status.execute {
            background: rgba(255, 107, 53, 0.2);
            color: #ff6b35;
        }
        
        .condition-status.waiting {
            background: rgba(255, 193, 7, 0.2);
            color: #FFC107;
        }<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SOL Shooter Strategy - Qantika Docs</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #0a0a0a;
            color: #ffffff;
            min-height: 100vh;
            line-height: 1.6;
        }
        
        /* Animated background */
        .bg-animation {
            position: fixed;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            z-index: -1;
            opacity: 0.3;
            background: 
                radial-gradient(circle at 20% 50%, #1e3c72 0%, transparent 50%),
                radial-gradient(circle at 80% 80%, #2a5298 0%, transparent 50%),
                radial-gradient(circle at 40% 20%, #7e8ba3 0%, transparent 50%);
            animation: gradientShift 20s ease infinite;
        }
        
        @keyframes gradientShift {
            0%, 100% { transform: rotate(0deg) scale(1); }
            50% { transform: rotate(180deg) scale(1.1); }
        }
        
        /* Header */
        header {
            padding: 1.5rem 2rem;
            backdrop-filter: blur(10px);
            background: rgba(255, 255, 255, 0.05);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .header-content {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .logo-link {
            display: flex;
            align-items: center;
            gap: 15px;
            text-decoration: none;
        }
        
        .logo {
            width: 50px;
            height: 50px;
        }
        
        .logo-text {
            font-size: 2rem;
            font-weight: 700;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .nav-links {
            display: flex;
            gap: 2rem;
        }
        
        .nav-links a {
            color: #aaa;
            text-decoration: none;
            transition: color 0.3s ease;
        }
        
        .nav-links a:hover {
            color: #00d4ff;
        }
        
        /* Main content */
        .doc-container {
            max-width: 1100px;
            margin: 0 auto;
            padding: 3rem 2rem;
        }
        
        .doc-header {
            margin-bottom: 3rem;
            text-align: center;
        }
        
        h1 {
            font-size: 3rem;
            margin-bottom: 1rem;
            background: linear-gradient(to right, #ff6b35, #f7931e);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .doc-meta {
            color: #666;
            font-size: 0.9rem;
        }
        
        .doc-content {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 16px;
            padding: 3rem;
        }
        
        .doc-content h2 {
            color: #ff6b35;
            margin-bottom: 1.5rem;
            font-size: 2rem;
        }
        
        .doc-content p {
            margin-bottom: 1.5rem;
            color: #e0e0e0;
            font-size: 1.1rem;
            line-height: 1.8;
        }
        
        .doc-content strong {
            color: #fff;
            font-weight: 600;
        }
        
        /* Success Story */
        .success-story {
            background: rgba(76, 175, 80, 0.1);
            border-left: 4px solid #4CAF50;
            padding: 1.5rem;
            margin: 2rem 0;
            border-radius: 8px;
        }
        
        .success-title {
            color: #4CAF50;
            font-weight: bold;
            font-size: 1.2rem;
            margin-bottom: 1rem;
        }
        
        /* Strategy Visualization */
        .strategy-viz-section {
            background: rgba(0, 0, 0, 0.5);
            border-radius: 12px;
            padding: 2rem;
            margin: 2rem 0;
        }
        
        .viz-header {
            text-align: center;
            margin-bottom: 2rem;
        }
        
        .viz-title {
            color: #ff6b35;
            font-size: 1.3rem;
            margin-bottom: 0.5rem;
        }
        
        .viz-subtitle {
            color: #aaa;
            font-size: 0.9rem;
        }
        
        .charts-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
            margin-bottom: 2rem;
        }
        
        .chart-wrapper {
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            padding: 1rem;
        }
        
        .chart-title {
            color: #ff6b35;
            font-size: 1rem;
            text-align: center;
            margin-bottom: 1rem;
        }
        
        #shooterRangeChart, #protectionChart {
            width: 100%;
            height: 300px;
        }
        
        /* Capital Efficiency Section */
        .capital-efficiency {
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            padding: 2rem;
            margin: 2rem 0;
        }
        
        .efficiency-title {
            color: #ff6b35;
            font-size: 1.2rem;
            text-align: center;
            margin-bottom: 1.5rem;
        }
        
        #capitalChart {
            width: 100%;
            height: 400px;
        }
        
        /* Risk Graduation Timeline */
        .graduation-timeline {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 8px;
            padding: 2rem;
            margin: 2rem 0;
        }
        
        .timeline-title {
            color: #ff6b35;
            font-size: 1.2rem;
            margin-bottom: 1.5rem;
            text-align: center;
        }
        
        .timeline-stages {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
        }
        
        .stage {
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            padding: 1.5rem;
            text-align: center;
        }
        
        .stage-day {
            color: #ff6b35;
            font-weight: bold;
            font-size: 1.1rem;
            margin-bottom: 0.5rem;
        }
        
        .stage-protection {
            color: #aaa;
            font-size: 0.9rem;
            margin-bottom: 1rem;
        }
        
        .stage-status {
            font-size: 0.85rem;
            padding: 0.5rem;
            border-radius: 4px;
        }
        
        .high-risk { background: rgba(244, 67, 54, 0.2); color: #f44336; }
        .medium-risk { background: rgba(255, 193, 7, 0.2); color: #FFC107; }
        .low-risk { background: rgba(76, 175, 80, 0.2); color: #4CAF50; }
        .graduated { background: rgba(0, 212, 255, 0.2); color: #00d4ff; }
        
        /* Comparison vs Volcano */
        .strategy-comparison {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
            margin: 2rem 0;
        }
        
        .strategy-card {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            padding: 1.5rem;
        }
        
        .strategy-card h3 {
            color: #00d4ff;
            margin-bottom: 1rem;
        }
        
        .volcano-card h3 {
            color: #667eea;
        }
        
        .shooter-card h3 {
            color: #ff6b35;
        }
        
        /* Entry Conditions */
        .entry-conditions {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
            gap: 1rem;
            margin: 2rem 0;
        }
        
        .condition-card {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            padding: 1.5rem;
            text-align: center;
        }
        
        .condition-icon {
            font-size: 2rem;
            margin-bottom: 1rem;
        }
        
        .condition-title {
            color: #ff6b35;
            font-weight: bold;
            font-size: 1rem;
            margin-bottom: 0.8rem;
        }
        
        .condition-desc {
            color: #aaa;
            font-size: 0.85rem;
            margin-bottom: 1rem;
            line-height: 1.4;
        }
        
        .condition-status {
            font-size: 0.9rem;
            font-weight: bold;
            padding: 0.4rem 0.8rem;
            border-radius: 4px;
        }
        
        .condition-status.positive {
            background: rgba(76, 175, 80, 0.2);
            color: #4CAF50;
        }
        
        .condition-status.execute {
            background: rgba(255, 107, 53, 0.2);
            color: #ff6b35;
        }
        
        .condition-status.waiting {
            background: rgba(255, 193, 7, 0.2);
            color: #FFC107;
        }
        
        .doc-nav {
            margin-top: 3rem;
            padding-top: 2rem;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            display: flex;
            justify-content: space-between;
        }
        
        .doc-nav a {
            color: #00d4ff;
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            transition: transform 0.3s ease;
        }
        
        .doc-nav a:hover {
            transform: translateX(5px);
        }
        
        .doc-nav a.prev:hover {
            transform: translateX(-5px);
        }
        
        .back-to-docs {
            text-align: center;
            margin-top: 2rem;
        }
        
        .back-to-docs a {
            color: #666;
            text-decoration: none;
            transition: color 0.3s ease;
        }
        
        .back-to-docs a:hover {
            color: #00d4ff;
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .header-content {
                flex-direction: column;
                gap: 1rem;
            }
            
            h1 {
                font-size: 2rem;
            }
            
            .doc-content {
                padding: 2rem 1.5rem;
            }
            
            .charts-container, .strategy-comparison {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="bg-animation"></div>
    
    <header>
        <div class="header-content">
            <a href="../index.html" class="logo-link">
                <svg class="logo" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                    <defs>
                        <linearGradient id="logoGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" style="stop-color:#667eea;stop-opacity:1" />
                            <stop offset="100%" style="stop-color:#00d4ff;stop-opacity:1" />
                        </linearGradient>
                    </defs>
                    <g transform="translate(50,50)">
                        <circle cx="0" cy="0" r="40" fill="none" stroke="url(#logoGradient)" stroke-width="8"/>
                        <rect x="-25" y="5" width="10" height="20" fill="url(#logoGradient)" opacity="0.7"/>
                        <rect x="-10" y="-5" width="10" height="30" fill="url(#logoGradient)" opacity="0.8"/>
                        <rect x="5" y="-15" width="10" height="40" fill="url(#logoGradient)" opacity="0.9"/>
                        <path d="M 20,20 L 35,35" stroke="url(#logoGradient)" stroke-width="8" stroke-linecap="round"/>
                    </g>
                </svg>
                <span class="logo-text">Qantika</span>
            </a>
            <nav class="nav-links">
                <a href="../index.html">Home</a>
                <a href="../index.html#trading">Trading</a>
                <a href="../index.html#analysis">Analysis</a>
                <a href="../index.html#docs">Docs</a>
            </nav>
        </div>
    </header>
    
    <div class="doc-container">
        <div class="doc-header">
            <h1>SOL Shooter Strategy</h1>
            <div class="doc-meta">Asymmetric Risk with Dynamic Protection</div>
        </div>
        
        <div class="doc-content">
            <p><strong>The Shooter strategy represents a revolutionary approach to leveraged LP trading that abandons pseudo delta-neutral positioning in favor of pure directional exposure with intelligent downside protection.</strong> Unlike the Volcano strategy which seeks balance, Shooter deliberately creates asymmetric risk profiles designed to capture substantial upward movements while using dynamic short hedging to limit downside exposure during the vulnerable early period of each trade.</p>
            
            <div class="success-story">
                <div class="success-title">üéØ Real-World Success Story</div>
                <p><strong>SOL Entry at $120 ‚Üí 8 Weeks of 1.2% Daily Compounding</strong></p>
                <p>A live Shooter trade entered when SOL was at $120, with an upper range limit of $189, moved to safety within the first few days. After 8 weeks of continuous operation, this position has generated over 100% returns through daily compound fee accumulation. This demonstrates the power of finding those "graduate" trades that become unstoppable compound machines.</p>
            </div>
            
            <h2>The Asymmetric Advantage</h2>
            
            <p>Traditional LP strategies place equal liquidity above and below the current price, creating symmetric exposure. The Shooter strategy deliberately skews this distribution, typically using a 10/90 ratio ‚Äì placing only 10% of the range below the current price and 90% above. This creates a natural "launch pad" effect where small upward price movements quickly push the position into highly profitable territory.</p>
            
            <div class="strategy-viz-section">
                <div class="viz-header">
                    <div class="viz-title">Shooter Range Positioning vs Traditional LP</div>
                    <div class="viz-subtitle">10/90 asymmetric range creates maximum upward exposure</div>
                </div>
                
                <div class="charts-container">
                    <div class="chart-wrapper">
                        <div class="chart-title">Traditional 50/50 LP Range</div>
                        <canvas id="traditionalRangeChart"></canvas>
                    </div>
                    <div class="chart-wrapper">
                        <div class="chart-title">Shooter 10/90 Asymmetric Range</div>
                        <canvas id="shooterRangeChart"></canvas>
                    </div>
                </div>
            </div>
            
            <h2>Signal-Driven Entry Strategy</h2>
            
            <p><strong>Unlike the Volcano strategy which benefits from daily mechanical entries, Shooter trades are fundamentally dependent on entry quality.</strong> Since we're taking leveraged directional exposure with asymmetric ranges, the difference between a good entry and a poor entry can determine whether a position becomes a profitable "graduate" or an early stop-out.</p>
            
            <div class="highlight-box">
                <p><strong>Entry Philosophy:</strong> Quality over quantity. Shooter positions are only initiated when multiple intelligence systems align to indicate high-probability directional moves. This may result in 2-3 entries per week rather than daily entries, but each position has significantly higher success probability.</p>
            </div>
            
            <div class="strategy-viz-section">
                <div class="viz-header">
                    <div class="viz-title">Optimal Entry Conditions</div>
                    <div class="viz-subtitle">When TA signals and Wallet Intelligence align for maximum success probability</div>
                </div>
                
                <div class="entry-conditions">
                    <div class="condition-card">
                        <div class="condition-icon">üìà</div>
                        <div class="condition-title">TA Signal Convergence</div>
                        <div class="condition-desc">MACD crossover imminent across multiple timeframes (1m, 5m, 15m, 1h)</div>
                        <div class="condition-status positive">‚úì Confirmed</div>
                    </div>
                    
                    <div class="condition-card">
                        <div class="condition-icon">üêã</div>
                        <div class="condition-title">Wallet Intelligence Score</div>
                        <div class="condition-desc">Qantika Score ‚â• 85% with Fast Movers accumulating and low whale dormancy</div>
                        <div class="condition-status positive">‚úì Score: 87%</div>
                    </div>
                    
                    <div class="condition-card">
                        <div class="condition-icon">üì∞</div>
                        <div class="condition-title">Sentiment Analysis</div>
                        <div class="condition-desc">News scraper and forum sentiment analysis showing positive momentum</div>
                        <div class="condition-status positive">‚úì Bullish</div>
                    </div>
                    
                    <div class="condition-card">
                        <div class="condition-icon">üéØ</div>
                        <div class="condition-title">Entry Execution</div>
                        <div class="condition-desc">All systems align - initiate Shooter position with full short protection</div>
                        <div class="condition-status execute">‚Üí EXECUTE</div>
                    </div>
                </div>
            </div>
            
            <p>This intelligence-driven approach transforms the Shooter strategy from a high-risk gamble into a sophisticated probability-weighted system. By waiting for optimal conditions rather than forcing daily entries, we dramatically improve the hit rate and increase the likelihood of finding those exceptional positions that compound for months.</p>
            
            <p>The genius of the Shooter strategy lies in its dynamic protection mechanism. Each new leveraged LP position begins with substantial short coverage ‚Äì typically 3:1 ratio ($3K short protection for every $1K LP position). However, this protection decreases over time as the position accumulates fees and becomes self-sustaining.</p>
            
            <div class="strategy-viz-section">
                <div class="viz-header">
                    <div class="viz-title">Protection Coverage Evolution</div>
                    <div class="viz-subtitle">How short coverage decreases as positions mature and accumulate safety buffer</div>
                </div>
                
                <div class="chart-wrapper">
                    <canvas id="protectionChart"></canvas>
                </div>
            </div>
            
            <div class="graduation-timeline">
                <div class="timeline-title">Risk Graduation Timeline</div>
                <div class="timeline-stages">
                    <div class="stage">
                        <div class="stage-day">Day 1-3</div>
                        <div class="stage-protection">100% Short Coverage</div>
                        <div class="stage-status high-risk">Maximum Risk</div>
                    </div>
                    <div class="stage">
                        <div class="stage-day">Day 4-14</div>
                        <div class="stage-protection">75% Short Coverage</div>
                        <div class="stage-status medium-risk">Moderate Risk</div>
                    </div>
                    <div class="stage">
                        <div class="stage-day">Day 15-30</div>
                        <div class="stage-protection">50% Short Coverage</div>
                        <div class="stage-status low-risk">Low Risk</div>
                    </div>
                    <div class="stage">
                        <div class="stage-day">Day 30+</div>
                        <div class="stage-protection">0% Short Coverage</div>
                        <div class="stage-status graduated">Self-Sufficient</div>
                    </div>
                </div>
            </div>
            
            <h2>Capital Efficiency Through Graduation</h2>
            
            <p>The revolutionary aspect of the Shooter strategy is its capital efficiency model. Rather than requiring $4K per trade ($1K LP + $3K short), the system uses a revolving $10K short protection pool that serves multiple positions simultaneously. As older positions "graduate" to self-sufficiency, they free up short capital for new positions.</p>
            
            <div class="capital-efficiency">
                <div class="efficiency-title">$10K Short Pool Serving Multiple Positions</div>
                <canvas id="capitalChart"></canvas>
            </div>
            
            <div class="highlight-box">
                <p><strong>Capital Efficiency Magic:</strong> A $10K short pool can potentially protect 10+ active positions simultaneously because older positions graduate to safety while newer positions receive full protection. This creates exponential scaling potential without linear capital requirements.</p>
            </div>
            
            <h2>Strategy Comparison: Volcano vs Shooter</h2>
            
            <div class="strategy-comparison">
                <div class="strategy-card volcano-card">
                    <h3>üåã Volcano Strategy</h3>
                    <ul style="margin-left: 1.5rem; color: #e0e0e0;">
                        <li><strong>Approach:</strong> Pseudo delta-neutral</li>
                        <li><strong>Risk Profile:</strong> Balanced, lower volatility</li>
                        <li><strong>Capital:</strong> No hedging required</li>
                        <li><strong>Returns:</strong> Steady compound growth</li>
                        <li><strong>Best For:</strong> Stable, predictable income</li>
                    </ul>
                </div>
                
                <div class="strategy-card shooter-card">
                    <h3>üéØ Shooter Strategy</h3>
                    <ul style="margin-left: 1.5rem; color: #e0e0e0;">
                        <li><strong>Approach:</strong> Directional with protection</li>
                        <li><strong>Risk Profile:</strong> Asymmetric, higher potential</li>
                        <li><strong>Capital:</strong> Requires short pool</li>
                        <li><strong>Returns:</strong> Explosive when successful</li>
                        <li><strong>Best For:</strong> Aggressive growth seekers</li>
                    </ul>
                </div>
            </div>
            
            <p>The Shooter strategy acknowledges that not every trade will be successful ‚Äì it's designed for a hit rate where several quick stop-outs are acceptable in exchange for finding those exceptional positions that compound for months. However, by leveraging the complete Qantika intelligence ecosystem (TA signals, wallet analysis, and sentiment monitoring), we dramatically improve our probability of success and reduce the number of failed attempts needed to find those golden positions.</p>
            
            <p><strong>This represents the evolution from mechanical trading to intelligent trading</strong> ‚Äì using sophisticated multi-source analysis to identify only the highest-probability opportunities, then applying asymmetric risk management to transform successful entries into unstoppable compound machines.</p>
            
            <div class="doc-nav">
                <a href="wallet_signals.html" class="prev">‚Üê Previous: Qantika Wallet Signals</a>
                <span></span>
            </div>
        </div>
        
        <div class="back-to-docs">
            <a href="../index.html#docs">‚Üê Back to Documentation</a>
        </div>
    </div>
    
    <script>
        // Simulate SOL price movement over time
        function generateSOLData() {
            const data = [];
            let price = 120; // Starting price
            
            for (let day = 0; day <= 60; day++) {
                // Simulate gradual upward trend with volatility
                const trend = 0.008; // 0.8% daily average growth
                const volatility = (Math.random() - 0.5) * 0.06; // ¬±3% daily volatility
                price *= (1 + trend + volatility);
                
                data.push({
                    day: day,
                    price: price
                });
            }
            
            return data;
        }
        
        // Draw traditional vs shooter range comparison
        function drawRangeComparison() {
            const traditionalCanvas = document.getElementById('traditionalRangeChart');
            const shooterCanvas = document.getElementById('shooterRangeChart');
            
            if (!traditionalCanvas || !shooterCanvas) return;
            
            const traditionalCtx = traditionalCanvas.getContext('2d');
            const shooterCtx = shooterCanvas.getContext('2d');
            
            // Set canvas sizes
            traditionalCanvas.width = traditionalCanvas.offsetWidth;
            traditionalCanvas.height = traditionalCanvas.offsetHeight;
            shooterCanvas.width = shooterCanvas.offsetWidth;
            shooterCanvas.height = shooterCanvas.offsetHeight;
            
            const currentPrice = 150;
            const rangeSize = 60; // $60 total range
            
            // Traditional 50/50 range
            drawRangeChart(traditionalCtx, currentPrice, rangeSize * 0.5, rangeSize * 0.5, 'Traditional 50/50', '#667eea');
            
            // Shooter 10/90 range  
            drawRangeChart(shooterCtx, currentPrice, rangeSize * 0.1, rangeSize * 0.9, 'Shooter 10/90', '#ff6b35');
        }
        
        function drawRangeChart(ctx, currentPrice, downRange, upRange, title, color) {
            const width = ctx.canvas.width;
            const height = ctx.canvas.height;
            const margin = { top: 40, bottom: 40, left: 40, right: 40 };
            
            // Clear canvas
            ctx.fillStyle = '#1a1a1a';
            ctx.fillRect(0, 0, width, height);
            
            // Calculate range
            const lowPrice = currentPrice - downRange;
            const highPrice = currentPrice + upRange;
            const priceRange = highPrice - lowPrice;
            
            // Draw range rectangle
            const rectHeight = height - margin.top - margin.bottom;
            const rectY = margin.top;
            
            // Downside range (red)
            const downHeight = (downRange / (upRange + downRange)) * rectHeight;
            ctx.fillStyle = 'rgba(244, 67, 54, 0.3)';
            ctx.fillRect(margin.left, rectY + rectHeight - downHeight, width - margin.left - margin.right, downHeight);
            
            // Upside range (green)
            const upHeight = (upRange / (upRange + downRange)) * rectHeight;
            ctx.fillStyle = 'rgba(76, 175, 80, 0.3)';
            ctx.fillRect(margin.left, rectY, width - margin.left - margin.right, upHeight);
            
            // Current price line
            ctx.strokeStyle = color;
            ctx.lineWidth = 3;
            ctx.beginPath();
            const priceY = rectY + upHeight;
            ctx.moveTo(margin.left, priceY);
            ctx.lineTo(width - margin.right, priceY);
            ctx.stroke();
            
            // Labels
            ctx.fillStyle = '#fff';
            ctx.font = '12px Arial';
            ctx.textAlign = 'center';
            
            // Price labels
            ctx.fillText(`$${highPrice.toFixed(0)}`, width / 2, margin.top - 10);
            ctx.fillText(`$${currentPrice.toFixed(0)}`, width / 2, priceY - 5);
            ctx.fillText(`$${lowPrice.toFixed(0)}`, width / 2, height - 10);
            
            // Range percentages
            ctx.fillStyle = '#f44336';
            ctx.fillText(`${((downRange / (upRange + downRange)) * 100).toFixed(0)}%`, width / 2, rectY + upHeight + downHeight / 2);
            
            ctx.fillStyle = '#4CAF50';
            ctx.fillText(`${((upRange / (upRange + downRange)) * 100).toFixed(0)}%`, width / 2, rectY + upHeight / 2);
        }
        
        // Draw protection coverage evolution
        function drawProtectionChart() {
            const canvas = document.getElementById('protectionChart');
            if (!canvas) return;
            
            const ctx = canvas.getContext('2d');
            canvas.width = canvas.offsetWidth;
            canvas.height = canvas.offsetHeight;
            
            const margin = { top: 30, right: 60, bottom: 50, left: 60 };
            const chartWidth = canvas.width - margin.left - margin.right;
            const chartHeight = canvas.height - margin.top - margin.bottom;
            
            // Clear canvas
            ctx.fillStyle = '#1a1a1a';
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            
            // Generate protection data
            const days = 45;
            const protectionData = [];
            
            for (let day = 0; day <= days; day++) {
                let protection;
                if (day <= 3) protection = 100;
                else if (day <= 14) protection = 100 - ((day - 3) / 11) * 25; // 100% to 75%
                else if (day <= 30) protection = 75 - ((day - 14) / 16) * 75; // 75% to 0%
                else protection = 0;
                
                const fees = Math.min(day * 1.2, 50); // Accumulated fees as safety buffer
                
                protectionData.push({ day, protection, fees });
            }
            
            // Draw grid
            ctx.strokeStyle = 'rgba(255, 255, 255, 0.1)';
            ctx.lineWidth = 1;
            
            for (let i = 0; i <= 5; i++) {
                const y = margin.top + (chartHeight / 5) * i;
                ctx.beginPath();
                ctx.moveTo(margin.left, y);
                ctx.lineTo(margin.left + chartWidth, y);
                ctx.stroke();
            }
            
            // Draw protection coverage (red area)
            ctx.fillStyle = 'rgba(244, 67, 54, 0.3)';
            ctx.beginPath();
            ctx.moveTo(margin.left, margin.top + chartHeight);
            
            protectionData.forEach((point, i) => {
                const x = margin.left + (point.day / days) * chartWidth;
                const y = margin.top + chartHeight - (point.protection / 100) * chartHeight;
                if (i === 0) ctx.lineTo(x, y);
                else ctx.lineTo(x, y);
            });
            
            ctx.lineTo(margin.left + chartWidth, margin.top + chartHeight);
            ctx.closePath();
            ctx.fill();
            
            // Draw fees accumulation (green area)
            ctx.fillStyle = 'rgba(76, 175, 80, 0.3)';
            ctx.beginPath();
            ctx.moveTo(margin.left, margin.top + chartHeight);
            
            protectionData.forEach((point, i) => {
                const x = margin.left + (point.day / days) * chartWidth;
                const y = margin.top + chartHeight - (point.fees / 100) * chartHeight;
                if (i === 0) ctx.lineTo(x, y);
                else ctx.lineTo(x, y);
            });
            
            ctx.lineTo(margin.left + chartWidth, margin.top + chartHeight);
            ctx.closePath();
            ctx.fill();
            
            // Draw protection line
            ctx.strokeStyle = '#f44336';
            ctx.lineWidth = 3;
            ctx.beginPath();
            protectionData.forEach((point, i) => {
                const x = margin.left + (point.day / days) * chartWidth;
                const y = margin.top + chartHeight - (point.protection / 100) * chartHeight;
                if (i === 0) ctx.moveTo(x, y);
                else ctx.lineTo(x, y);
            });
            ctx.stroke();
            
            // Draw fees line
            ctx.strokeStyle = '#4CAF50';
            ctx.lineWidth = 3;
            ctx.beginPath();
            protectionData.forEach((point, i) => {
                const x = margin.left + (point.day / days) * chartWidth;
                const y = margin.top + chartHeight - (point.fees / 100) * chartHeight;
                if (i === 0) ctx.moveTo(x, y);
                else ctx.lineTo(x, y);
            });
            ctx.stroke();
            
            // Labels
            ctx.fillStyle = 'rgba(255, 255, 255, 0.8)';
            ctx.font = '11px Arial';
            ctx.textAlign = 'right';
            
            for (let i = 0; i <= 5; i++) {
                const value = 100 - (100 / 5) * i;
                const y = margin.top + (chartHeight / 5) * i;
                ctx.fillText(`${value}%`, margin.left - 10, y + 3);
            }
            
            // X-axis labels
            ctx.textAlign = 'center';
            for (let i = 0; i <= 4; i++) {
                const day = (days / 4) * i;
                const x = margin.left + (chartWidth / 4) * i;
                ctx.fillText(`Day ${Math.round(day)}`, x, canvas.height - 15);
            }
            
            // Legend
            ctx.fillStyle = '#f44336';
            ctx.font = '12px Arial';
            ctx.textAlign = 'left';
            ctx.fillText('‚ñ† Short Protection Coverage', margin.left + 10, 20);
            
            ctx.fillStyle = '#4CAF50';
            ctx.fillText('‚ñ† Accumulated Fee Safety Buffer', margin.left + 200, 20);
        }
        
        // Draw capital efficiency chart
        function drawCapitalChart() {
            const canvas = document.getElementById('capitalChart');
            if (!canvas) return;
            
            const ctx = canvas.getContext('2d');
            canvas.width = canvas.offsetWidth;
            canvas.height = canvas.offsetHeight;
            
            const margin = { top: 40, right: 40, bottom: 60, left: 60 };
            const chartWidth = canvas.width - margin.left - margin.right;
            const chartHeight = canvas.height - margin.top - margin.bottom;
            
            // Clear canvas
            ctx.fillStyle = '#1a1a1a';
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            
            // Simulate 15 positions over 15 days
            const positions = [];
            const shortPool = 10000; // $10K short pool
            let availableShort = shortPool;
            
            for (let day = 1; day <= 15; day++) {
                const age = 15 - day; // Age of position at day 15
                let protectionNeeded;
                
                if (age <= 3) protectionNeeded = 3000; // Full protection
                else if (age <= 14) protectionNeeded = 3000 - ((age - 3) / 11) * 750; // Reduce to 2250
                else protectionNeeded = 2250 - ((age - 14) / 16) * 2250; // Reduce to 0
                
                positions.push({
                    day: day,
                    age: age,
                    protection: Math.max(0, protectionNeeded),
                    graduated: protectionNeeded <= 0
                });
            }
            
            // Draw position bars
            const barWidth = chartWidth / positions.length;
            
            positions.forEach((pos, i) => {
                const x = margin.left + i * barWidth;
                const maxHeight = chartHeight * 0.8;
                const barHeight = (pos.protection / 3000) * maxHeight;
                
                // Color based on risk level
                let color;
                if (pos.graduated) color = 'rgba(0, 212, 255, 0.8)';
                else if (pos.protection > 2000) color = 'rgba(244, 67, 54, 0.8)';
                else if (pos.protection > 1000) color = 'rgba(255, 193, 7, 0.8)';
                else color = 'rgba(76, 175, 80, 0.8)';
                
                ctx.fillStyle = color;
                ctx.fillRect(x + 2, margin.top + chartHeight - barHeight, barWidth - 4, barHeight);
                
                // Age label
                ctx.fillStyle = 'rgba(255, 255, 255, 0.7)';
                ctx.font = '10px Arial';
                ctx.textAlign = 'center';
                ctx.fillText(`${pos.age}d`, x + barWidth/2, canvas.height - 25);
            });
            
            // Draw $10K pool line
            const poolY = margin.top + chartHeight * 0.2;
            ctx.strokeStyle = '#00d4ff';
            ctx.lineWidth = 2;
            ctx.setLineDash([5, 5]);
            ctx.beginPath();
            ctx.moveTo(margin.left, poolY);
            ctx.lineTo(margin.left + chartWidth, poolY);
            ctx.stroke();
            ctx.setLineDash([]);
            
            // Pool label
            ctx.fillStyle = '#00d4ff';
            ctx.font = '12px Arial';
            ctx.textAlign = 'left';
            ctx.fillText('$10K Short Pool Limit', margin.left + 10, poolY - 10);
            
            // Calculate total protection used
            const totalProtection = positions.reduce((sum, pos) => sum + pos.protection, 0);
            
            // Usage indicator
            ctx.fillStyle = totalProtection > shortPool ? '#f44336' : '#4CAF50';
            ctx.font = 'bold 14px Arial';
            ctx.textAlign = 'center';
            ctx.fillText(`Total Used: $${(totalProtection/1000).toFixed(1)}K / $10K`, canvas.width/2, margin.top + 20);
            
            // Y-axis labels
            ctx.fillStyle = 'rgba(255, 255, 255, 0.6)';
            ctx.font = '10px Arial';
            ctx.textAlign = 'right';
            
            for (let i = 0; i <= 3; i++) {
                const value = (3000 / 3) * i;
                const y = margin.top + chartHeight - (chartHeight * 0.8 / 3) * i;
                ctx.fillText(`$${(value/1000).toFixed(1)}K`, margin.left - 10, y);
            }
            
            // Title
            ctx.fillStyle = '#ff6b35';
            ctx.font = 'bold 14px Arial';
            ctx.textAlign = 'center';
            ctx.fillText('15 Positions Sharing $10K Short Pool', canvas.width/2, 25);
        }
        
        // Initialize all charts
        function initCharts() {
            // Add small delay to ensure canvases are rendered
            setTimeout(() => {
                drawRangeComparison();
                drawProtectionChart();
                drawCapitalChart();
            }, 100);
        }
        
        // Initialize when page loads
        window.addEventListener('load', initCharts);
        
        // Redraw on resize
        window.addEventListener('resize', () => {
            setTimeout(initCharts, 100);
        });
    </script>
</body>
</html>